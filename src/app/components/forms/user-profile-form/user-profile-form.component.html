<form
  (keydown.enter)="$event.preventDefault()"
  (ngSubmit)="submitForm()"
  #form="ngForm"
  class="ui form">
  <basic-loader
    [complete]="!loadingSubmit"
    class="inverted">
  </basic-loader>

  <form-section-title-text
    [text]="'user.profile.form.personal.presentation.section.header' | translate"
    icon="user">
  </form-section-title-text>

  <description-input
    [apiErrors]="apiErrors"
    [control]="profileForm.controls['description']">
  </description-input>

  <form-section-title-text
    [text]="'user.profile.form.social.network.section.header' | translate"
    icon="users">
  </form-section-title-text>

  <facebook-url-input
    [control]="profileForm.controls['facebook_url']"
    [apiErrors]="apiErrors">
  </facebook-url-input>

  <linkedin-url-input
    [control]="profileForm.controls['linkedin_url']"
    [apiErrors]="apiErrors">
  </linkedin-url-input>

  <form-section-title-text
    [text]="'user.profile.form.status.section.header' | translate"
    icon="id card">
  </form-section-title-text>

  <status-input
    [apiErrors]="apiErrors"
    [control]="profileForm.controls['current_status']">
  </status-input>

  <at-und-input
    [apiErrors]="apiErrors"
    [control]="profileForm.controls['at_und']"
    *ngIf="profileForm.value.current_status === 'asylum_seeker'">
  </at-und-input>

  <got-coordination-number-input
    [apiErrors]="apiErrors"
    [control]="profileForm.controls['got_coordination_number']"
    *ngIf="profileForm.value.current_status === 'asylum_seeker' && profileForm.value.at_und === 'yes'">
  </got-coordination-number-input>

  <ssn-input
    [apiErrors]="apiErrors"
    [control]="profileForm.controls['ssn']"
    *ngIf="profileForm.value.current_status && ((profileForm.value.current_status === 'asylum_seeker' && profileForm.value.at_und === 'yes' && profileForm.value.got_coordination_number === 'yes') || (profileForm.value.current_status !== 'asylum_seeker'))">
  </ssn-input>

  <lma-card-input
    [centered]="true"
    [showLabel]="true"
    *ngIf="profileForm.value.current_status === 'asylum_seeker' && profileForm.value.at_und === 'yes'">
  </lma-card-input>

  <personal-id-input
    [centered]="true"
    [showLabel]="true"
    *ngIf="profileForm.value.current_status && profileForm.value.current_status !== 'asylum_seeker'">
  </personal-id-input>

  <residence-permit-front-input
    [centered]="true"
    [showLabel]="true"
    *ngIf="profileForm.value.current_status === 'temporary_residence' || profileForm.value.current_status === 'permanent_residence'">
  </residence-permit-front-input>

  <residence-permit-back-input
    [centered]="true"
    [showLabel]="true"
    *ngIf="profileForm.value.current_status === 'temporary_residence' || profileForm.value.current_status === 'permanent_residence'">
  </residence-permit-back-input>

  <work-permit-front-input
    [centered]="true"
    [showLabel]="true"
    *ngIf="profileForm.value.current_status === 'student_visa' || profileForm.value.current_status === 'temporary_residence'">
  </work-permit-front-input>

  <work-permit-back-input
    [centered]="true"
    [showLabel]="true"
    *ngIf="profileForm.value.current_status === 'student_visa' || profileForm.value.current_status === 'temporary_residence'">
  </work-permit-back-input>

  <skatteverket-certificate-input
    [centered]="true"
    [showLabel]="true"
    *ngIf="profileForm.value.current_status === 'eu_citizen' || profileForm.value.current_status === 'asylum_seeker' && profileForm.value.at_und === 'yes' && profileForm.value.got_coordination_number === 'yes'">
  </skatteverket-certificate-input>

  <form-section-title-text
    [text]="'user.profile.form.language.skills.section.header' | translate"
    icon="world">
  </form-section-title-text>

  <languages-input
    [languagesControl]="profileForm.controls['languages']"
    [userLanguagesControl]="profileForm.controls['user_languages']"
    [apiErrors]="apiErrors">
  </languages-input>

  <form-section-title-text
    [text]="'user.profile.form.general.skills.section.header' | translate"
    icon="rocket">
  </form-section-title-text>

  <competence-input
    [control]="profileForm.controls['competence_text']"
    [apiErrors]="apiErrors">
  </competence-input>

  <skills-input
    [skillsControl]="profileForm.controls['skills']"
    [userSkillsControl]="profileForm.controls['user_skills']"
    [apiErrors]="apiErrors">
  </skills-input>

  <form-section-title-text
    [text]="'user.profile.form.interests.section.header' | translate"
    icon="heart">
  </form-section-title-text>

  <interests-input
    [interestsControl]="profileForm.controls['interests']"
    [userInterestsControl]="profileForm.controls['user_interests']"
    [apiErrors]="apiErrors">
  </interests-input>

  <form-section-title-text
    [text]="'user.profile.form.education.section.header' | translate"
    icon="student">
  </form-section-title-text>

  <education-input
    [apiErrors]="apiErrors"
    [control]="profileForm.controls['education']">
  </education-input>

  <form-section-title-text
    [text]="'user.profile.form.work.experience.section.header' | translate"
    icon="suitcase">
  </form-section-title-text>

  <resume-input
    [centered]="true"
    [showLabel]="false">
  </resume-input>

  <job-experience-input
    [control]="profileForm.controls['job_experience']"
    [apiErrors]="apiErrors">
  </job-experience-input>

  <form-submit-button
    [buttonText]="'user.profile.form.submit.button' | translate"
    [showButton]="!isInModal"
    [submitFail]="submitFail"
    [submitSuccess]="submitSuccess">
  </form-submit-button>
</form>
